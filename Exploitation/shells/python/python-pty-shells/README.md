# Original README

```
python-pty-shells
=================

Python PTY backdoors - full PTY or nothing!

Insecurety Research (2013)

The following is a collection of bind and reverse shells which give you a fully working PTY.

This is far superior to a normal bind or reverse shell, as you have job control and an interactive PTY and can do such things as use nano/vi to write files, su to elevate privs/change user, and ssh onward. You can also CTRL+C  and suchlike. 

I have implemented the bind and backconnect shells using the TCP protocol, the SCTP protocol, and the UDP protocol.

A demonstration video and blog post explaining the advantages/disadvantages of each technique is on the way, I just need to get around to it. 

For the SCTP shell, you will need the PySCTP module and the host will need to support the SCTP protocol. Most modern Linux boxes do, however you may need to install lksctp and lksctp-dev to build the python extensions. I am unsure if pyinstaller or similar can get around this.

Released under the WTFPL - wtfpl.net

Project by Insecurety Research - insecurety.net

Author: Darren 'infodox' Martyn.
```

# Personal notes
**Personally, I prefer a different way to achieve a full functional tty shell from a reverse shell connection**

```
$ # From target marchine, on a reverse shell connection, check for python installation. 
$ # Note that both have exactly the same syntax

$ which python

$ which python3
$ /usr/bin/python3

# then use the python3 to obtain a tty (pty)
$ python3 -c "import pty; pty.spawn('/bin/bash')"

Vulnserver:/var/www/data www-data$ 

# Background suspend the process with CTRL-Z 
Vulnserver:/var/www/data www-data$  ^Z

# back on Kali as root, list teletyper current settings and TERM value
root@kali: ~ $ stty -a

...

root@kali: ~ $  echo $TERM
screen

# configure current Kali tty to send in raw inputs such as ^C or ^Z etc, also do not echo any characters in the second tty (PTY)
# finally foreground the previously suspended process to take affect
root@kali: ~ $ stty raw -echo; fg

# set the tty (PTY) options the same as the parent tty (Kali)
Vulnserver:/var/www/data www-data$ stty rows [number-of-rows]
Vulnserver:/var/www/data www-data$ stty cols [number-of-columns]
Vulnserver:/var/www/data www-data$ export TERM=screen 

# we now have a fully functional tty (PTY) with tab completion and ability to clear screen with ^L
Vulnserver:/var/www/data www-data$ 

```

**to exit out of the pty**

```
# from ealier
Vulnserver:/var/www/data www-data$ exit

# reset Kali terminal settings with reset
# remember we may not be able to see any characters typed because of the stty -echo setting
[reset] <enter>

# and now we should be back
root@kali: ~ $

# OR we can try tty sane (to return teletyper to a sane state)
# remember we may not be able to see any characters typed because of the stty -echo setting
[stty sane] <enter>

```
